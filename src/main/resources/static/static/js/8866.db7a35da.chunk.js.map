{"version":3,"file":"static/js/8866.db7a35da.chunk.js","mappings":"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","sources":["api/menuInfoApi.ts","atom/atomMenuInfo.ts","components/adminInfo/styles/TSMenuStyle.ts","components/adminInfo/MenuList.tsx","components/adminInfo/MenuModify.tsx","pages/admin/TSAdminMenuPage.tsx"],"sourcesContent":["import authAxios from \"../util/tokenUtil\";\r\nimport { API_SERVER_HOST } from \"./config\";\r\n\r\nconst host = `${API_SERVER_HOST}/api/owner/menu`;\r\n\r\n// 메뉴정보 리스트 가져오기\r\nexport const getMenu = async ({ ishop }: { ishop: number }) => {\r\n  try {\r\n    const header = { headers: { \"Content-type\": \"application/json\" } };\r\n    const response = await authAxios.get(`${host}`, header);\r\n    return response.data;\r\n  } catch (error) {\r\n    console.log(error);\r\n    return undefined;\r\n  }\r\n};\r\n\r\n// 메뉴정보 수정하기\r\nexport const putMenu = async ({ menuInfo }: { menuInfo: FormData }) => {\r\n  try {\r\n    const header = { headers: { \"Content-Type\": \"multipart/form-data\" } };\r\n    const response = await authAxios.put(`${host}`, menuInfo, header);\r\n    return response.data;\r\n  } catch (error) {\r\n    console.log(error);\r\n    return undefined;\r\n  }\r\n};\r\n\r\n// 메뉴정보 등록하기\r\nexport const postMenu = async ({ menuInfo }: { menuInfo: FormData }) => {\r\n  try {\r\n    const header = { headers: { \"Content-Type\": \"multipart/form-data\" } };\r\n    const response = await authAxios.post(`${host}`, menuInfo, header);\r\n    return response.data;\r\n  } catch (error) {\r\n    console.log(error);\r\n    return undefined;\r\n  }\r\n};\r\n\r\n// 메뉴정보 삭제하기\r\nexport const deleteMenu = async ({ imenu }: { imenu: number }) => {\r\n  try {\r\n    const header = { headers: { \"Content-Type\": \"application/json\" } };\r\n    const response = await authAxios.delete(`${host}?imenu=${imenu}`, header);\r\n    return response.data;\r\n  } catch (error) {\r\n    console.log(error);\r\n    return undefined;\r\n  }\r\n};\r\n","import { atom } from \"recoil\";\r\n\r\ninterface MenuState {\r\n  checkShop: number;\r\n  imenu: number;\r\n  ishop: number;\r\n  ibutcher?: number;\r\n  price: number;\r\n  menu: string;\r\n  pic: string;\r\n}\r\n\r\n// atom 기본값 배열\r\nexport const defaultMenuState = {\r\n  checkShop: 0,\r\n  imenu: 0,\r\n  ishop: 0,\r\n  ibutcher: 0,\r\n  price: 0,\r\n  menu: \"\",\r\n  pic: \"\",\r\n};\r\n\r\nexport const atomMenuInfoState = atom<MenuState>({\r\n  key: \"atomMenuInfoState\",\r\n  default: defaultMenuState,\r\n});\r\n\r\nexport const menuRefreshState = atom({\r\n  key: \"menuRefreshState\",\r\n  default: 1,\r\n});\r\n","import styled from \"@emotion/styled\";\r\n\r\nexport const MenuContainerStyle = styled.div`\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 10px; // 항목 사이의 간격\r\n  justify-content: flex-start;\r\n`;\r\n\r\nexport const TSMenuStyle = styled.div`\r\n  position: relative;\r\n  display: flex;\r\n  align-items: flex-start;\r\n  gap: 10px;\r\n  .menu-img {\r\n    width: 160px;\r\n    height: 160px;\r\n    background: url(<path-to-image>), lightgray 50% / cover no-repeat, #f3f4f6;\r\n  }\r\n  .menu-info {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: flex-start;\r\n    gap: 5px;\r\n    width: 160px;\r\n    height: 60px;\r\n    position: absolute;\r\n    right: 0px;\r\n    top: 100px;\r\n    opacity: 0.5;\r\n    background: var(--gray-scale-1000, #000);\r\n    color: #fff;\r\n    padding: 10px;\r\n    /* 12/regular */\r\n    font-family: Pretendard;\r\n    font-size: 12px;\r\n    font-style: normal;\r\n    font-weight: 400;\r\n    line-height: 150%; /* 18px */\r\n  }\r\n  .menu-title {\r\n    white-space: nowrap; /* 줄바꿈 없이 한 줄로 표시 */\r\n    overflow: hidden; /* 내용이 넘칠 경우 숨김 처리 */\r\n    text-overflow: ellipsis; /* 넘친 텍스트를 말줄임표로 표시 */\r\n    width: 100%; /* 부모 컨테이너의 폭에 맞춤 */\r\n  }\r\n`;\r\n","import { useEffect, useState } from \"react\";\r\nimport { useRecoilState, useRecoilValue } from \"recoil\";\r\nimport { API_SERVER_HOST } from \"../../api/config\";\r\nimport { getMenu } from \"../../api/menuInfoApi\";\r\nimport { atomMenuInfoState, menuRefreshState } from \"../../atom/atomMenuInfo\";\r\nimport { atomStoreInfoState } from \"../../atom/atomStoreInfoState\";\r\nimport ResultModal from \"../common/ResultModal\";\r\nimport OptiPlaceholder from \"../image-optimization/OptiPlaceholder\";\r\nimport OptiWireframe from \"../image-optimization/OptiWireframe\";\r\nimport useModal from \"../meat/hooks/useModal\";\r\nimport { MenuContainerStyle, TSMenuStyle } from \"./styles/TSMenuStyle\";\r\nimport { TSBackgroundBoxStyle, TSBoxInnerStyle } from \"./styles/TSModifyStyle\";\r\n\r\nconst host = API_SERVER_HOST;\r\n\r\n// 메뉴 타입 정의\r\ninterface Menu {\r\n  checkShop: number;\r\n  imenu: number;\r\n  ishop: number;\r\n  price: number;\r\n  menu: string;\r\n  pic: string;\r\n}\r\n\r\nconst MenuList = () => {\r\n  const { isModal, openModal, closeModal } = useModal();\r\n  const menuInfo = useRecoilValue(atomMenuInfoState);\r\n  const storeInfo = useRecoilValue(atomStoreInfoState);\r\n  const refreshMenu = useRecoilValue(menuRefreshState);\r\n  const [imenu, setImenu] = useRecoilState(atomMenuInfoState);\r\n  const [menus, setMenus] = useState<Menu[]>([]);\r\n  const [fetching, setFetching] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const fetchMenuInfo = async () => {\r\n      setFetching(true);\r\n      try {\r\n        const data = await getMenu({ ishop: menuInfo.ishop });\r\n        if (data) {\r\n          setMenus(data);\r\n        } else {\r\n          openModal(\"메뉴 정보\", \"가져오는데 실패하였습니다\", closeModal);\r\n          return;\r\n        }\r\n      } catch (error) {\r\n        openModal(\"서버 오류\", \"관리자에게 문의하세요\", closeModal);\r\n        return;\r\n      } finally {\r\n        setFetching(false);\r\n      }\r\n      console.log(\"등록된 메뉴리스트\", menus);\r\n    };\r\n    fetchMenuInfo();\r\n  }, [refreshMenu]);\r\n\r\n  const handleClickMenu = (menu: Menu) => {\r\n    setImenu(menu);\r\n    console.log(menuInfo.imenu);\r\n  };\r\n\r\n  return (\r\n    <TSBackgroundBoxStyle>\r\n      {/* 모달창 */}\r\n      {isModal.isOpen && (\r\n        <ResultModal\r\n          title={isModal.title}\r\n          content={isModal.content}\r\n          callFn={isModal.callFn}\r\n        />\r\n      )}\r\n      {/* {fetching ? <Fetching /> : null} */}\r\n      <TSBoxInnerStyle>\r\n        <div className=\"big-title\">메뉴목록</div>\r\n        <div className=\"title\">\r\n          {/* <div>메뉴목록</div> */}\r\n          {/* <div className=\"essential\">*</div> */}\r\n        </div>\r\n        <MenuContainerStyle>\r\n          {menus.map((menu, index) => (\r\n            <TSMenuStyle\r\n              key={index}\r\n              onClick={() => {\r\n                handleClickMenu(menu);\r\n              }}\r\n              style={{ cursor: \"pointer\" }}\r\n            >\r\n              <div className=\"menu-img\">\r\n                <OptiPlaceholder\r\n                  src={\r\n                    storeInfo.checkShop !== 1\r\n                      ? menu?.pic\r\n                        ? `${host}/pic/shop/${menu.ishop}/menu/${menu.pic}`\r\n                        : `${process.env.PUBLIC_URL}/assets/images/menuImg.png`\r\n                      : menu?.pic\r\n                      ? `${host}/pic/butcher/${menu.ishop}/menu/${menu.pic}`\r\n                      : `${process.env.PUBLIC_URL}/assets/images/menuImg.png`\r\n                  }\r\n                  alt={`미리보기${index}`}\r\n                  width={160}\r\n                  height={160}\r\n                  placeholder={\r\n                    <div>\r\n                      <OptiWireframe width={160} height={160} />\r\n                    </div>\r\n                  }\r\n                />\r\n              </div>\r\n              <div className=\"menu-info\">\r\n                <div className=\"menu-title\">{menu.menu}</div>\r\n                <div>\r\n                  {new Intl.NumberFormat(\"ko-KR\").format(menu.price)} 원\r\n                </div>\r\n              </div>\r\n            </TSMenuStyle>\r\n          ))}\r\n        </MenuContainerStyle>\r\n      </TSBoxInnerStyle>\r\n    </TSBackgroundBoxStyle>\r\n  );\r\n};\r\n\r\nexport default MenuList;\r\n","import { ChangeEvent, useRef, useState } from \"react\";\r\nimport { useRecoilState, useRecoilValue } from \"recoil\";\r\nimport { API_SERVER_HOST } from \"../../api/config\";\r\nimport { deleteMenu, postMenu, putMenu } from \"../../api/menuInfoApi\";\r\nimport {\r\n  atomMenuInfoState,\r\n  defaultMenuState,\r\n  menuRefreshState,\r\n} from \"../../atom/atomMenuInfo\";\r\nimport { atomStoreInfoState } from \"../../atom/atomStoreInfoState\";\r\nimport ResultModal from \"../common/ResultModal\";\r\nimport OptiPlaceholder from \"../image-optimization/OptiPlaceholder\";\r\nimport OptiWireframe from \"../image-optimization/OptiWireframe\";\r\nimport useModal from \"../meat/hooks/useModal\";\r\nimport { ButtonStyleTS } from \"./styles/ButtonStyleTS\";\r\nimport {\r\n  OnClickBoxStyle,\r\n  TSBackgroundBoxStyle,\r\n  TSBoxInnerStyle,\r\n} from \"./styles/TSModifyStyle\";\r\nimport { TSInputStyle, TSTextFieldStyle } from \"./styles/TSTextFieldStyle\";\r\n\r\nconst host = API_SERVER_HOST;\r\n\r\n// 텍스트필드 스타일 props 타입 정의\r\ntype TextFieldStateProps = \"default\" | \"focus\" | \"error\" | \"filled\";\r\n\r\nconst MenuModify = () => {\r\n  // 커스텀 훅\r\n  const { isModal, openModal, closeModal } = useModal();\r\n  const [fetching, setFetching] = useState(false);\r\n  // 메뉴정보 상태관리\r\n  const [menuInfo, setMenuInfo] = useRecoilState(atomMenuInfoState);\r\n  const storeInfo = useRecoilValue(atomStoreInfoState);\r\n  const [refreshTrigger, setRefreshTrigger] = useRecoilState(menuRefreshState);\r\n  const [selectedFile, setSelectedFile] = useState<File | null>(null);\r\n\r\n  const fileInputRef = useRef<HTMLInputElement>(null);\r\n\r\n  // 사진등록 버튼\r\n  const handleClickAdd = () => {\r\n    fileInputRef.current?.click();\r\n  };\r\n\r\n  // 이미지 변경 이벤트 핸들러\r\n  const handleChangeImage = (e: ChangeEvent<HTMLInputElement>) => {\r\n    if (e.target.files && e.target.files[0]) {\r\n      const file = e.target.files[0];\r\n      // 파일 크기가 5MB 이하인지 확인\r\n      if (file.size > 5 * 1024 * 1024) {\r\n        openModal(\"사진 등록\", \"5MB 이하만 가능합니다.\", closeModal);\r\n        return;\r\n      }\r\n      // const reader = new FileReader();\r\n      // reader.onloadend = () => {\r\n      //   // 미리보기 URL 생성 및 Recoil 상태 업데이트\r\n      //   const newPic = reader.result as string;\r\n      //   setMenuInfo(prevState => ({ ...prevState, pic: newPic }));\r\n      //   setSelectedFile(file);\r\n      // };\r\n      // reader.readAsDataURL(file);\r\n      const newPic = URL.createObjectURL(file);\r\n      setMenuInfo(prev => ({ ...prev, pic: newPic }));\r\n      setSelectedFile(file);\r\n    }\r\n  };\r\n\r\n  // 메뉴명 변경 이벤트 핸들러\r\n  const handleChangeMenu = (e: ChangeEvent<HTMLInputElement>) => {\r\n    const newMenuValue = e.target.value;\r\n    setMenuInfo({ ...menuInfo, menu: newMenuValue && newMenuValue });\r\n  };\r\n  // 메뉴명 텍스트필드 스타일 상태관리\r\n  const [menuState, setMenuState] = useState<TextFieldStateProps>(\"default\");\r\n  const handleMenuFocus = () => setMenuState(\"focus\");\r\n  const handleMenuBlur = () => {\r\n    const menuValue = menuInfo.menu;\r\n    if (menuValue.length === 0 || menuValue.length > 30) {\r\n      setMenuState(\"error\");\r\n    } else {\r\n      setMenuState(menuValue ? \"filled\" : \"default\");\r\n    }\r\n  };\r\n\r\n  // 가격 변경 이벤트 핸들러\r\n  const handleChangePrice = (e: ChangeEvent<HTMLInputElement>) => {\r\n    const newPriceValue = e.target.value;\r\n    setMenuInfo({\r\n      ...menuInfo,\r\n      price: newPriceValue ? parseInt(newPriceValue, 10) : 0,\r\n    });\r\n  };\r\n  // 가격 텍스트필드 스타일 상태관리\r\n  const [priceState, setPriceState] = useState<TextFieldStateProps>(\"default\");\r\n  const handlePriceFocus = () => setPriceState(\"focus\");\r\n  const handlePriceBlur = () => {\r\n    const priceValue = menuInfo.price;\r\n    if (priceValue <= 0 || priceValue == 0) {\r\n      setPriceState(\"error\");\r\n    } else {\r\n      setPriceState(priceValue ? \"filled\" : \"default\");\r\n    }\r\n  };\r\n\r\n  // 메뉴등록 실행\r\n  const handleMenuPost = async () => {\r\n    setFetching(true);\r\n\r\n    const formData = new FormData();\r\n\r\n    if (selectedFile) {\r\n      formData.append(\"pic\", selectedFile);\r\n    }\r\n\r\n    const dto = new Blob(\r\n      [\r\n        JSON.stringify({\r\n          menu: menuInfo.menu,\r\n          price: menuInfo.price,\r\n        }),\r\n      ],\r\n      { type: \"application/json\" },\r\n    );\r\n    formData.append(\"dto\", dto);\r\n\r\n    try {\r\n      const result = await postMenu({ menuInfo: formData });\r\n      if (result) {\r\n        console.log(\"메뉴 정보 수정 성공\");\r\n        console.log(\"메뉴 정보\", menuInfo);\r\n        openModal(\"메뉴 정보\", \"메뉴가 등록 되었습니다.\", closeModal);\r\n        setRefreshTrigger(refreshTrigger * -1);\r\n        setMenuInfo(defaultMenuState);\r\n        return;\r\n      } else {\r\n        console.log(\"메뉴정보\", menuInfo);\r\n        openModal(\"메뉴 정보\", \"등록에 실패하였습니다\", closeModal);\r\n        return;\r\n      }\r\n    } catch (error) {\r\n      console.log(\"메뉴 정보 등록 안됨\");\r\n      openModal(\"서버 오류\", \"관리자에게 문의하세요\", closeModal);\r\n      return;\r\n    } finally {\r\n      setFetching(false);\r\n    }\r\n  };\r\n\r\n  // 메뉴수정 실행\r\n  const handleMenuModify = async () => {\r\n    if (!menuInfo.imenu) {\r\n      openModal(\"메뉴 수정\", \"수정할 메뉴를 선택해주세요\", closeModal);\r\n      return;\r\n    }\r\n    setFetching(true);\r\n\r\n    const formData = new FormData();\r\n\r\n    if (selectedFile) {\r\n      formData.append(\"pic\", selectedFile);\r\n    }\r\n\r\n    const dto = new Blob(\r\n      [\r\n        JSON.stringify({\r\n          imenu: menuInfo.imenu,\r\n          menu: menuInfo.menu,\r\n          price: menuInfo.price,\r\n        }),\r\n      ],\r\n      { type: \"application/json\" },\r\n    );\r\n    formData.append(\"dto\", dto);\r\n\r\n    try {\r\n      const result = await putMenu({ menuInfo: formData });\r\n      if (result) {\r\n        console.log(\"메뉴 정보 수정 성공\");\r\n        console.log(\"메뉴 정보\", menuInfo);\r\n        openModal(\"메뉴 정보\", \"메뉴가 수정 되었습니다.\", closeModal);\r\n        setRefreshTrigger(refreshTrigger * -1);\r\n        setMenuInfo(defaultMenuState);\r\n        return;\r\n      } else {\r\n        console.log(\"메뉴정보\", menuInfo);\r\n        openModal(\"메뉴 정보\", \"수정에 실패하였습니다\", closeModal);\r\n        return;\r\n      }\r\n    } catch (error) {\r\n      console.log(\"메뉴 정보 수정 안됨\");\r\n      openModal(\"서버 오류\", \"관리자에게 문의하세요\", closeModal);\r\n      return;\r\n    } finally {\r\n      setFetching(false);\r\n    }\r\n  };\r\n\r\n  // 메뉴 삭제실행\r\n  const handleDelete = async () => {\r\n    if (!menuInfo.imenu) {\r\n      openModal(\"메뉴 삭제\", \"삭제할 메뉴를 선택해주세요\", closeModal);\r\n      return;\r\n    }\r\n    setFetching(true);\r\n    try {\r\n      const result = await deleteMenu({ imenu: menuInfo.imenu });\r\n      if (result) {\r\n        openModal(\"메뉴 삭제\", \"메뉴가 삭제되었습니다\", closeModal);\r\n        setRefreshTrigger(refreshTrigger * -1);\r\n        setMenuInfo(defaultMenuState);\r\n        return;\r\n      } else {\r\n        openModal(\"메뉴 삭제\", \"메뉴 삭제를 실패하였습니다\", closeModal);\r\n        console.log(\"imenu\", menuInfo.imenu);\r\n        return;\r\n      }\r\n    } catch (error) {\r\n      openModal(\"서버 오류\", \"관리자에게 문의하세요\", closeModal);\r\n      return;\r\n    } finally {\r\n      setFetching(false);\r\n    }\r\n  };\r\n\r\n  // 초기화\r\n  const handleReset = () => {\r\n    setMenuInfo(defaultMenuState);\r\n  };\r\n\r\n  return (\r\n    <TSBackgroundBoxStyle>\r\n      {/* 모달창 */}\r\n      {isModal.isOpen && (\r\n        <ResultModal\r\n          title={isModal.title}\r\n          content={isModal.content}\r\n          callFn={isModal.callFn}\r\n        />\r\n      )}\r\n      {/* {fetching ? <Fetching /> : null} */}\r\n      <TSBoxInnerStyle>\r\n        <div className=\"big-title\">메뉴 등록 / 수정하기</div>\r\n        <div className=\"text-guide\">\r\n          메뉴목록에서 메뉴를 클릭하시면 해당 메뉴를 수정할 수 있습니다\r\n        </div>\r\n        <div className=\"title\">\r\n          <div>메뉴사진</div>\r\n          <div className=\"essential\">*</div>\r\n        </div>\r\n        <div className=\"pics-container\">\r\n          <div className=\"text-guide\">5MB 이하 1장만 등록 가능합니다</div>\r\n          <ButtonStyleTS type=\"button\" onClick={handleClickAdd}>\r\n            사진등록\r\n          </ButtonStyleTS>\r\n          <input\r\n            type=\"file\"\r\n            ref={fileInputRef}\r\n            style={{ display: \"none\" }}\r\n            onChange={handleChangeImage}\r\n          />\r\n          <div className=\"pics-thumb\">\r\n            {menuInfo.pic && (\r\n              <OptiPlaceholder\r\n                src={\r\n                  menuInfo.pic.startsWith(\"blob\")\r\n                    ? menuInfo.pic\r\n                    : storeInfo.checkShop !== 1\r\n                    ? `${host}/pic/shop/${menuInfo.ishop}/menu/${menuInfo.pic}`\r\n                    : `${host}/pic/butcher/${menuInfo.ishop}/menu/${menuInfo.pic}`\r\n                }\r\n                alt=\"미리보기 이미지\"\r\n                width={92}\r\n                height={92}\r\n                placeholder={\r\n                  <div>\r\n                    <OptiWireframe width={92} height={92} />\r\n                  </div>\r\n                }\r\n              />\r\n            )}\r\n          </div>\r\n          {/* <div className=\"text-guide\">썸네일 클릭 시 삭제</div> */}\r\n        </div>\r\n      </TSBoxInnerStyle>\r\n      <TSBoxInnerStyle>\r\n        <div className=\"title\">\r\n          <div>메뉴명</div>\r\n          <div className=\"essential\">*</div>\r\n        </div>\r\n        <TSTextFieldStyle state={menuState}>\r\n          <TSInputStyle\r\n            type=\"text\"\r\n            placeholder=\"메뉴명을 입력해주세요\"\r\n            value={menuInfo.menu || \"\"}\r\n            onChange={handleChangeMenu}\r\n            onFocus={handleMenuFocus}\r\n            onBlur={handleMenuBlur}\r\n          />\r\n        </TSTextFieldStyle>\r\n        <div className=\"name-guide\">\r\n          <div className=\"text-guide\">숫자, 한글, 영문, 특수문자 사용가능</div>\r\n          <div className=\"text-length\">{menuInfo.menu?.length}/30</div>\r\n        </div>\r\n        <div className=\"title\">\r\n          <div>메뉴가격</div>\r\n          <div className=\"essential\">*</div>\r\n        </div>\r\n        <TSTextFieldStyle state={priceState}>\r\n          <TSInputStyle\r\n            type=\"number\"\r\n            placeholder=\"메뉴 가격을 입력해주세요\"\r\n            value={menuInfo.price || \"\"}\r\n            onChange={handleChangePrice}\r\n            onFocus={handlePriceFocus}\r\n            onBlur={handlePriceBlur}\r\n          />\r\n        </TSTextFieldStyle>\r\n        <div className=\"text-guide\">숫자만 사용가능, 단위: 원</div>\r\n      </TSBoxInnerStyle>\r\n      <OnClickBoxStyle>\r\n        <ButtonStyleTS type=\"button\" onClick={handleMenuPost}>\r\n          등록하기\r\n        </ButtonStyleTS>\r\n        <ButtonStyleTS type=\"button\" onClick={handleMenuModify}>\r\n          수정하기\r\n        </ButtonStyleTS>\r\n        <ButtonStyleTS type=\"button\" onClick={handleDelete}>\r\n          삭제하기\r\n        </ButtonStyleTS>\r\n        <ButtonStyleTS type=\"button\" onClick={handleReset}>\r\n          초기화\r\n        </ButtonStyleTS>\r\n      </OnClickBoxStyle>\r\n    </TSBackgroundBoxStyle>\r\n  );\r\n};\r\n\r\nexport default MenuModify;\r\n","import MenuList from \"../../components/adminInfo/MenuList\";\r\nimport MenuModify from \"../../components/adminInfo/MenuModify\";\r\nimport {\r\n  TSAdminInfoWrapStyle,\r\n  TSNavStyle,\r\n  TSPreviewWrapStyle,\r\n  TSShopStyle,\r\n  TSWrapInnerStyle,\r\n} from \"../../components/adminInfo/styles/TSModifyStyle\";\r\n\r\nconst TSAdminMenuPage = () => {\r\n  return (\r\n    <TSAdminInfoWrapStyle>\r\n      <TSNavStyle>\r\n        <div className=\"page-title\">메뉴 관리</div>\r\n        {/* <ButtonStyleTS type=\"button\">저장</ButtonStyleTS> */}\r\n      </TSNavStyle>\r\n      <TSWrapInnerStyle>\r\n        <TSShopStyle>\r\n          <MenuList />\r\n          {/* <MenuPost /> */}\r\n        </TSShopStyle>\r\n        <TSPreviewWrapStyle>\r\n          <MenuModify />\r\n        </TSPreviewWrapStyle>\r\n      </TSWrapInnerStyle>\r\n    </TSAdminInfoWrapStyle>\r\n  );\r\n};\r\n\r\nexport default TSAdminMenuPage;\r\n"],"names":["host","concat","API_SERVER_HOST","defaultMenuState","checkShop","imenu","ishop","ibutcher","price","menu","pic","atomMenuInfoState","atom","key","default","menuRefreshState","MenuContainerStyle","styled","div","_templateObject","_taggedTemplateLiteral","TSMenuStyle","_templateObject2","MenuList","isModal","openModal","closeModal","useModal","menuInfo","useRecoilValue","storeInfo","atomStoreInfoState","refreshMenu","setImenu","useRecoilState","menus","setMenus","useState","fetching","setFetching","useEffect","async","data","_ref","header","headers","authAxios","get","error","console","log","getMenu","fetchMenuInfo","_jsxs","TSBackgroundBoxStyle","children","isOpen","_jsx","ResultModal","title","content","callFn","TSBoxInnerStyle","className","map","index","onClick","handleClickMenu","style","cursor","OptiPlaceholder","src","process","alt","width","height","placeholder","OptiWireframe","Intl","NumberFormat","format","MenuModify","_menuInfo$menu","setMenuInfo","refreshTrigger","setRefreshTrigger","selectedFile","setSelectedFile","fileInputRef","useRef","menuState","setMenuState","priceState","setPriceState","ButtonStyleTS","type","handleClickAdd","_fileInputRef$current","current","click","ref","display","onChange","e","target","files","file","size","newPic","URL","createObjectURL","prev","startsWith","TSTextFieldStyle","state","TSInputStyle","value","newMenuValue","onFocus","handleMenuFocus","onBlur","handleMenuBlur","menuValue","length","newPriceValue","parseInt","handlePriceFocus","handlePriceBlur","priceValue","OnClickBoxStyle","formData","FormData","append","dto","Blob","JSON","stringify","result","_ref3","post","postMenu","_ref2","put","putMenu","_ref4","delete","deleteMenu","handleReset","TSAdminMenuPage","TSAdminInfoWrapStyle","TSNavStyle","TSWrapInnerStyle","TSShopStyle","TSPreviewWrapStyle"],"sourceRoot":""}
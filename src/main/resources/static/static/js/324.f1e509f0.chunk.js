"use strict";(self.webpackChunkteam1_project=self.webpackChunkteam1_project||[]).push([[324],{7402:(o,e,t)=>{t.d(e,{Em:()=>l,Ew:()=>i,Hh:()=>r,Ol:()=>p});var a=t(7154);const n="".concat("","/api/user"),c="".concat("","/api/owner"),s="".concat("","/api/admin"),r=async o=>{let{authParam:e}=o;try{const o={headers:{"Content-Type":"application/json"}},t={email:e.email,upw:e.upw};return(await a.A.post("".concat(n,"/signin"),t,o)).data}catch(t){throw console.log(t),t}},l=async o=>{let{authParam:e}=o;try{const o={headers:{"Content-Type":"application/json"}},t={email:e.email,upw:e.upw},n=await a.A.post("".concat(c,"/signin"),t,o);if(n&&n.status<400)return console.log(n.data),n.data;console.log("")}catch(t){console.log(t)}},i=async o=>{let{signUpData:e}=o;try{return(await a.A.post("".concat("","/owner/signup"),e)).data}catch(t){throw console.log(""),t}},p=async o=>{let{authParam:e}=o;try{const o={headers:{"Content-Type":"application/json"}},t={email:e.email,upw:e.upw},n=await a.A.post("".concat(s,"/signin"),t,o);if(n&&n.status<400)return console.log(n.data),n.data;console.log("")}catch(t){console.log(t)}}},1054:(o,e,t)=>{t.d(e,{DP:()=>l,F1:()=>i,i$:()=>c,uG:()=>p,yA:()=>r});var a=t(7154),n=t(5940);const c="",s="".concat(c,"/api"),r=async o=>{let{isLogin:e,ishop:t}=o;try{const o={headers:{"Content-Type":"application/json"}},c=e?n.A:a.A,r=await c.get("".concat(s,"/shop/").concat(t),o);if("2"===r.status.toString().charAt(0))return console.log("\ubaa9\ub85d \ud638\ucd9c \uc131\uacf5"),r.data;console.log("\ubaa9\ub85d \ud638\ucd9c \uc624\ub958")}catch(c){console.log(c)}},l=async o=>{try{const e={ishop:o},t={headers:{"Content-Type":"application/json"}},a=await n.A.post("".concat(s,"/shop/bookmark"),e,t);console.log("check",a.data)}catch(e){console.log(e)}},i=async()=>{try{return(await a.A.get("/json/reviews.json")).data}catch(o){console.log("loading error")}},p=async o=>{let{fullAddress:e,successCoordFn:t}=o;console.log("\ub118\uaca8\uc9d0",e);try{const o=(await a.A.get("https://dapi.kakao.com/v2/local/search/address.json",{params:{query:e},headers:{Authorization:"KakaoAK ".concat("ccafcf970012e00e0c0d46fb99d06012")}})).data.documents[0];console.log("\uc704\ub3c4: ".concat(o.y,", \uacbd\ub3c4: ").concat(o.x)),t(o)}catch(n){console.log(n)}}},2657:(o,e,t)=>{t.d(e,{D6:()=>p,HZ:()=>i,PX:()=>r,TX:()=>s,Yd:()=>g,ih:()=>l});var a=t(7154),n=t(5940);const c="".concat("","/api"),s=async o=>{let{isLogin:e,ishop:t}=o;try{const o={headers:{"Content-Type":"application/json"}},s=e?n.A:a.A,r=await s.get("".concat(c,"/shop/").concat(t),o);if("2"===r.status.toString().charAt(0))return console.log("\ubaa9\ub85d \ud638\ucd9c \uc131\uacf5"),r.data;console.log("\ubaa9\ub85d \ud638\ucd9c \uc624\ub958")}catch(s){console.log(s)}},r=async o=>{let{params:e}=o;console.log("\ud30c\ub77c\ubbf8\ud130",e);try{const o=await a.A.get("".concat(c,"/shop"),{params:e});if("2"===o.status.toString().charAt(0))return console.log("\ubaa9\ub85d \ud638\ucd9c \uc131\uacf5"),o.data;console.log("\ubaa9\ub85d \ud638\ucd9c \uc624\ub958")}catch(t){console.log(t)}},l=async o=>{let{reviewData:e}=o;try{const o={headers:{"Content-Type":"multipart/form-data"}};return(await n.A.post("".concat(c,"/review"),e,o)).data}catch(t){throw console.log(t),t}},i=async o=>{let{reserData:e}=o;try{const o={headers:{"Content-Type":"application/json"}};return(await n.A.post("".concat(c,"/reservation"),e,o)).data}catch(t){throw console.log(t),t}},p=async o=>{let{dataForm:e}=o;console.log("\ub370\uc774\ud130\ud3fc",e);try{return(await a.A.post("".concat(c,"/status"),e)).data}catch(t){throw console.log(""),t}},g=async o=>{let{reportData:e}=o;console.log("axios",e);try{const o={headers:{"Content-Type":"application/json"}},t=await n.A.post("".concat(c,"/user/review/report"),e,o);return console.log("result data  ",t.data),t.data}catch(t){throw console.log(t),t}}},2395:(o,e,t)=>{t.d(e,{a:()=>c});var a=t(831),n=t(6868);const c=(0,a.eU)({key:"atomAdminState",default:(0,n.Ri)("member")||{result:0}})},4008:(o,e,t)=>{t.d(e,{A:()=>c});t(5043);var a=t(2360),n=t(579);const c=o=>{const{bttext:e}=o;return(0,n.jsx)(a.k,{children:(0,n.jsx)("span",{children:e})})}},2360:(o,e,t)=>{t.d(e,{k:()=>r});var a,n=t(7528),c=t(5903),s=t(255);const r=c.A.button(a||(a=(0,n.A)(["\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  padding: 10px 20px;\n  gap: 10px;\n  background: #fff;\n  border: 2px solid #066e52;\n  border-radius: 10px;\n  cursor: pointer;\n  span {\n    font-family: DAEAM_LEE_TAE_JOON;\n    font-size: 19px;\n    text-align: center;\n    font-style: normal;\n    font-weight: 400;\n    color: ",";\n  }\n"])),s.J.primary)},613:(o,e,t)=>{t.d(e,{A:()=>g});var a=t(5043),n=t(3216),c=t(5475),s=t(8648),r=t(9396);const l=function(){const[o,e]=(0,a.useState)({isOpen:!1,title:"",content:"",confirmFn:null,cancelFn:null});return(0,n.Zp)(),{isSelectModal:o,openSelectModal:(o,t,a,n)=>{e({isOpen:!0,title:o,content:t,confirmFn:a,cancelFn:n})},confirmSelectModal:()=>{e((o=>({...o,isOpen:!1})))},cancelSelectModal:()=>{e((o=>({...o,isOpen:!1})))}}};var i=t(2156);const p=function(){const[o,e]=(0,a.useState)({isOpen:!1,content:"",callFn:null});return(0,n.Zp)(),{isEmptyModal:o,openEmptyModal:(o,t)=>{e({isOpen:!0,content:o,callFn:t})},closeEmptyModal:()=>{e((o=>({...o,isOpen:!1})))}}},g=()=>{const o=(0,n.Zp)(),[e,t]=(0,c.ok)(),{isModal:g,openModal:d,closeModal:h,moveToLogin:u,shutModal:m}=(0,r.A)(),{isLogin:y}=(0,i.A)(),{isSelectModal:f,openSelectModal:T,confirmSelectModal:A,cancelSelectModal:w}=l(),{isEmptyModal:S,openEmptyModal:v,closeEmptyModal:k}=p(),M=e.get("page")?parseInt(e.get("page")):1,P=e.get("search")||"",E=e.get("category")?parseInt(e.get("category")):0,O=e.get("filter")?parseInt(e.get("filter")):0,b=(e.get("check")&&parseInt(e.get("check")),(0,c.PI)({page:M,search:P,category:E,filter:O}).toString()),[j,L]=(0,a.useState)(!1);return{page:M,search:P,category:E,filter:O,MoveToFilter:e=>{let t="";if(e){const o=(0,s.f)(e.filter,O);t=(0,c.PI)({filter:o}).toString()}else t=b;o({pathname:"../list",search:t})},MoveToList:e=>{let t="";if(e){const o=(0,s.f)(e.category,E);t=(0,c.PI)({category:o}).toString()}else t=b;o({pathname:"../list",search:t})},moveToRead:e=>{o({pathname:"../detail/".concat(e),search:b})},moveToSearch:e=>{let t="";if(e){const o=(0,s.f)(e.search,P);t=(0,c.PI)({search:o}).toString(),console.log("queryStr:",t),L(!j)}else t=b;o({pathname:"../list",search:t})},refresh:j,isModal:g,openModal:d,closeModal:h,moveToLogin:u,moveToReser:e=>{o({pathname:"../reservation/".concat(e),search:b})},MoveToPage:e=>{let t="";if(e){const o=(0,s.f)(e.page,M);t=(0,c.PI)({page:o}).toString()}else t=b;o({pathname:"../list",search:t})},moveToReview:(e,t,a,n)=>{console.log(a),o({pathname:"../../meat/review/".concat(e),search:"name=".concat(a,"&checkShop=").concat(t,"&ishop=").concat(n,"&").concat(b)})},isSelectModal:f,openSelectModal:T,confirmSelectModal:A,cancelSelectModal:w,moveToBReser:(e,t,a)=>{e.stopPropagation(),y?o({pathname:"../../butcher/pickup/".concat(t),search:"name=".concat(a,"&").concat(b)}):d("\ub85c\uadf8\uc778 \ud544\uc694","\ub85c\uadf8\uc778\uc774 \ud544\uc694\ud55c \uc11c\ube44\uc2a4\uc785\ub2c8\ub2e4.",u),console.log(a)},openEmptyModal:v,isEmptyModal:S,closeEmptyModal:k,moveToPayment:(e,t)=>{console.log("payment, pk :",e,"amount :",t),o({pathname:"/payment",search:"pk=".concat(e,"&amount=").concat(t)})},shutModal:m}}},2156:(o,e,t)=>{t.d(e,{A:()=>g});var a=t(7154),n=t(3216),c=t(831),s=t(7402),r=t(6868);const l=(0,c.eU)({key:"atomUserState",default:(0,r.Ri)("member")||{result:0}});var i=t(2395);const p=(0,c.eU)({key:"atomSupervisorState",default:(0,r.Ri)("member")||{result:0}}),g=()=>{var o;const[e,t]=(0,c.L4)(l),[g,d]=(0,c.L4)(i.a),[h,u]=(0,c.L4)(p),m=(0,c.E0)(l),y=(0,c.E0)(i.a),f=(0,c.E0)(p),T=(0,n.Zp)(),A="".concat("","/api/user"),w=1==e.result,S=(null===g||void 0===g||null===(o=g.shopName)||void 0===o?void 0:o.length)>0;console.log("Test3",S),console.log("Test4",g.shopName);const v=1==h.result,k=o=>{t(o),(0,r.TV)("member",JSON.stringify(o),1)},M=o=>{d(o),(0,r.TV)("member",JSON.stringify(o),1)},P=o=>{u(o),(0,r.TV)("member",JSON.stringify(o),1)};return{adminState:g,userState:e,doLoginTS:async o=>{let{authParam:e}=o;const t=await(0,s.Hh)({authParam:e});return k(t),t},doAdminLoginTS:async o=>{let{authParam:e}=o;const t=await(0,s.Em)({authParam:e});return M(t),console.log("test22",t),t},doSupervisorLoginTS:async o=>{let{authParam:e}=o;const t=await(0,s.Ol)({authParam:e});return P(t),t},doLogout:async()=>{m(),y(),f(),(0,r.zs)("member");try{const o={headers:{"Content-Type":"application/json"}},e=await a.A.post("".concat(A,"/signout"),o);200===e.status&&(console.log("rt cookie \uc0ad\uc81c"),console.log(e.data))}catch(o){}},moveToPath:o=>{T({pathname:o},{replace:!0})},moveToLogin:()=>{T("/login")},loginComplete:()=>{T("/")},isLogin:w,isAdminLogin:S,isSupervisorLogin:v}}},9396:(o,e,t)=>{t.d(e,{A:()=>c});var a=t(5043),n=t(3216);const c=function(){const[o,e]=(0,a.useState)({isOpen:!1,title:"",content:"",callFn:null}),t=(0,n.Zp)();return{isModal:o,openModal:(o,t,a)=>{e({isOpen:!0,title:o,content:t,callFn:a})},closeModal:()=>{e((o=>({...o,isOpen:!1})))},moveToLogin:()=>{e((o=>({...o,isOpen:!1}))),t("/login")},shutModal:()=>{e((o=>({...o,isOpen:!1})))}}}},5940:(o,e,t)=>{t.d(e,{A:()=>r});var a=t(7154),n=t(6868),c=t(1054);const s=a.A.create();s.interceptors.request.use((o=>{console.log("\uc804\ub2ec",o);const e=(0,n.Ri)("member");if(console.log("get Token : ",e),!e)return console.log("not found cookie info"),Promise.reject({response:{data:{error:"please login"}}});console.log("toke info");const{accessToken:t}=e;return console.log("acessToken : ",t),o.headers.Authorization="Bearer ".concat(t),o}),(o=>(console.log("request fail :",o),Promise.reject(o)))),s.interceptors.response.use((async o=>{console.log("Response \uc804\ucc98\ub9ac ....",o);const e=o.data;if(console.log("1. Response \uc624\uae30\uc804 \uc11c\ubc84 \uc804\ub2ec\ud574\uc900 \ub370\uc774\ud130",e),e&&"ERROR_ACCESS_TOKEN"===e.error){console.log("2. \uc77c\ubc18\uc801 \uc624\ub958\uac00 \uc544\ub2cc \uc561\uc138\uc2a4 \ud1a0\ud070 \uc5d0\ub7ec!! \uc785\ub2c8\ub2e4. "),console.log("3. \uc0c8\ub85c\uc6b4 \ud1a0\ud070\uc744 \uc694\uccad\ud574\uc57c \ud569\ub2c8\ub2e4. "),console.log("4. \ucfe0\ud0a4\uc5d0 \uc788\ub294 \uc815\ubcf4\ub97c \uc77d\uc5b4\uc11c, \ub2e4\uc2dc \uc2dc\ub3c4\ud569\ub2c8\ub2e4.");const e=(0,n.Ri)("member");console.log("5. \ucfe0\ud0a4 \ud1a0\ud070 \uc815\ubcf4 AccessToken ",e.accessToken),console.log("6. \ucfe0\ud0a4 \ud1a0\ud070 \uc815\ubcf4 RefreshToken ",e.refreshToken),console.log("7. \uc704\uc758 \uc815\ubcf4\ub85c \uc0c8\ub85c\uc6b4 \ud1a0\ud070\uc744 \uc694\uccad\ud569\ub2c8\ub2e4.");const t=await(async(o,e)=>{const t=c.i$,n={headers:{Authorization:"Bearer ".concat(o)}},s=await a.A.get("".concat(t,"/api/user/refresh-token"),n);return console.log("required token"),console.log("new data :",s.data),s.data})(e.accessToken,e.refreshToken);console.log("8. \uc694\uccad \uc774\ud6c4 \ub418\ub3cc\uc544\uc640\uc11c \uc0c8\ub85c\uc6b4 \uc815\ubcf4\ub85c \ucfe0\ud0a4\ub97c \uc5c5\ub370\uc774\ud2b8 "),e.accessToken=t.accessToken,e.refreshToken=t.refreshToken,(0,n.TV)("member",JSON.stringify(e)),console.log("9. \ub370\uc774\ud130 \uc694\uccad\ud558\ub358 API \uc7ac \uc694\uccad");const s=o.config;return s.headers.Authorization="Bearer ".concat(t.accessToken),await(0,a.A)(s)}return o}),(o=>(console.log("res fail : ",o),Promise.reject(o))));const r=s},8648:(o,e,t)=>{t.d(e,{T:()=>n,f:()=>a});const a=(o,e)=>o||e,n=(o,e)=>o||e}}]);
//# sourceMappingURL=324.f1e509f0.chunk.js.map